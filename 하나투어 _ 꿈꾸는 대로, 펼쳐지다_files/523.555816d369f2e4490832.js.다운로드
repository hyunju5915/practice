(window.webpackJsonp=window.webpackJsonp||[]).push([[523],{1068:function(t,n,e){"use strict";e.r(n);var r=e(9),o=(e(37),e(15),e(86),e(28),e(17),e(8),e(26),e(118)),c=e.n(o),l=e(27),h=/<script\b[^>]*>([\s\S]*?)<(\/s|\\\/s)cript>/,d=/<script\b[^>]*>([\s\S]*?)<(\/s|\\\/s)cript>/g,f=/ src\=?[\'|\"](.+)[\'|\"]/i,m={props:{showHtml:{type:String,default:""},hasParent:{type:Boolean,default:!1},parentTabGrpId:{type:String,default:""},parentTabId:{type:String,default:""},instanceId:{type:Number}},mounted:function(){this.callScript(),this.setCrmLoadExhibition()},computed:{scriptTag:function(){return this.showHtml.match(d)||[]},notScriptTag:function(){return this.showHtml.replace(d,"")},isView:function(){return"true"==this.$route.query.editable&&null==this.$route.query.offEditorHelper||(0==this.hasParent||this.$store.getters["tab/getTabId"](this.parentTabGrpId)===this.parentTabId)}},methods:{inlineScript:function(){var t=this;return Array.apply(null,{length:this.scriptTag.length}).map((function(n,e){var r,o=t.scriptTag[e].match(h);return o&&(r=o.length>1?o[1]:""),r})).join("")},callScript:function(){var t=this,n=this.scriptTag.filter((function(t,n){var e=String.prototype.match.call(t,f);return!!e&&e.length>1})),e=n.length;n.length>0?n.map(function(){var n=Object(r.a)(regeneratorRuntime.mark((function n(r,o){var c,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=String.prototype.match.call(r,f),l=c.length>1?c[1]:null,"",!l){n.next=8;break}return n.next=6,t.loadScript(l);case 6:(e-=1)||t.$nextTick((function(){this.startScript()}));case 8:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}()):this.$nextTick((function(){this.startScript()}))},startScript:function(){var source=this.inlineScript();window.eval(source)},loadScript:function(t){return new Promise((function(n){c.a.get(t).then((function(t){window.eval(source),n()}))}))},setCrmLoadExhibition:function(){try{var t,n,e,r,o={},c=null!==(t=this.$route.query.dtcmProdAttrDvCd)&&void 0!==t?t:"",h=null!==(n=this.$route.query.oppbTitlNm)&&void 0!==n?n:"",d=null!==(e=this.$route.query.plnnExhtId)&&void 0!==e?e:"",f=null!==(r=this.$route.query.plnnExhtDesc)&&void 0!==r?r:"";o.dtcmProdAttrDvCd=c,o.plnnExhtId=d,o.oppbTitlNm=h,o.plnnExhtDesc=f,l.a.setEvent("load_exhibition",o),console.log("setCrm load_exhibition e:::",o)}catch(t){console.log("setCrm load_exhibition e:::",t)}}}},v=e(2),component=Object(v.a)(m,(function(){var t=this.$createElement,n=this._self._c||t;return this.isView?n("div",[n("div",{staticClass:"components_wrap html"},[n("div",{class:{admHtml:!0,components:!0},domProps:{innerHTML:this._s(this.notScriptTag)}})])]):this._e()}),[],!1,null,null,null);n.default=component.exports}}]);