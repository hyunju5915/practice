(window.webpackJsonp=window.webpackJsonp||[]).push([[493],{1121:function(t,e,r){"use strict";r.r(e);var o=r(1499).a,n=r(2),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.isView?r("div",{staticClass:"submain"},[r("div",{staticClass:"inr pb60"},[t.showGeneralProduct?r("div",[r("div",{staticClass:"text_wrap big"},[r("strong",{staticClass:"tit"},[t._v(t._s(t.userNm)+"님만을 위한 추천여행")])]),t._v(" "),t.nProdList.length>0?r("div",{staticClass:"prod_list_slide"},[r("div",{directives:[{name:"swiper2",rawName:"v-swiper2"}],staticClass:"prod_list_wrap row swiper-container col4 prevNext v-swiper2"},[t.linkUrl?r("div",{staticClass:"txr mb20"},[r("a",{staticClass:"txt arrow_r",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.goDetail(t.linkUrl)}}},[t._v(t._s(t.linkTitle))])]):t._e(),t._v(" "),r("ul",{staticClass:"type swiper-wrapper"},t._l(t.nProdList,(function(e,o){return r("li",{key:o,staticClass:"swiper-slide",style:o%4==0?"cursor: pointer;clear: both;":"cursor: pointer;",on:{click:function(r){return t.goDetail(e.linkUrl,e.moveType,o)}}},[r("div",{staticClass:"img"},[r("fx-img",{attrs:{src:e.imgUrl,alt:"",imgSize:"M"}})],1),t._v(" "),e.befTitle?r("div",{staticClass:"tag_group"},[r("span",{staticClass:"tag"},[t._v(t._s(e.befTitle))])]):t._e(),t._v(" "),r("strong",{staticClass:"item_title",attrs:{title:e.title}},[t._v(t._s(t.txtSplit(e.title,70)))]),t._v(" "),e.aftTitle?r("p",{staticClass:"item_text",attrs:{title:e.aftTitle}},[t._v(t._s(t.txtSplit(e.aftTitle,136)))]):t._e(),t._v(" "),e.prodAmt?r("div",{staticClass:"price_group"},[r("strong",{staticClass:"price now"},[t._v(t._s(t._f("formatAmt")(e.prodAmt))),e.prodAmtMark?r("span",[t._v("원~")]):r("span",[t._v("원")])])]):t._e(),t._v(" "),e.buttonTxt?r("div",{staticClass:"hash_group",domProps:{innerHTML:t._s(t.getTag(e.buttonTxt))}}):t._e()])})),0),t._v(" "),t._m(0),t._v(" "),t._m(1)])]):t._e()]):t._e(),t._v(" "),t.showRecommendProduct?r("div",[r("div",{staticClass:"text_wrap big"},[r("strong",{staticClass:"tit"},[t._v(t._s(t.userNm)+"님만을 위한 추천여행")])]),t._v(" "),t.productList.length>0?r("div",{staticClass:"prod_list_slide"},[r("div",{directives:[{name:"swiper2",rawName:"v-swiper2"}],staticClass:"prod_list_wrap row swiper-container col4 prevNext v-swiper2"},[r("ul",{staticClass:"type swiper-wrapper"},t._l(t.productList,(function(e,o){return r("li",{key:o,staticClass:"swiper-slide",style:o%4==0?"cursor: pointer;clear: both;":"cursor: pointer;",on:{click:function(r){return t.goDetail(e.detailUrl,!0,o)}}},[r("div",{staticClass:"img"},[r("fx-img",{attrs:{src:e.imgUrl,alt:"",imgSize:"M"}})],1),t._v(" "),e.befTitle?r("div",{staticClass:"tag_group"},[r("span",{staticClass:"tag"},[t._v(t._s(e.befTitle))])]):t._e(),t._v(" "),r("strong",{staticClass:"item_title",attrs:{title:e.korName}},[t._v(t._s(t.txtSplit(e.korName,70)))]),t._v(" "),e.aftTitle?r("p",{staticClass:"item_text",attrs:{title:e.aftTitle}},[t._v(t._s(t.txtSplit(e.aftTitle,136)))]):t._e(),t._v(" "),e.price&&e.price>0?r("div",{staticClass:"price_group"},[r("strong",{staticClass:"price now"},[t._v(t._s(t._f("formatAmt")(e.price))),e.price?r("span",[t._v("원~")]):r("span",[t._v("원")])])]):r("div",{staticClass:"price_group"},[t._m(2,!0)]),t._v(" "),e.buttonTxt?r("div",{staticClass:"hash_group",domProps:{innerHTML:t._s(t.getTag(e.buttonTxt))}}):t._e()])})),0),t._v(" "),t._m(3),t._v(" "),t._m(4)])]):t._e()]):t._e()])]):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"prev",attrs:{href:"#none"}},[e("span",{staticClass:"blind"},[this._v("이전")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"next",attrs:{href:"#none"}},[e("span",{staticClass:"blind"},[this._v("다음")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("strong",{staticClass:"price now"},[e("span",[this._v("상세일정별 요금을 확인하세요")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"prev",attrs:{href:"#none"}},[e("span",{staticClass:"blind"},[this._v("이전")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"next",attrs:{href:"#none"}},[e("span",{staticClass:"blind"},[this._v("다음")])])}],!1,null,null,null);e.default=component.exports},1499:function(t,e,r){"use strict";(function(t){var o=r(9),n=(r(37),r(23),r(8),r(20),r(30)),c=r(11),l=r(5),d=r(27);e.a={props:{hasParent:{type:Boolean,default:!1},parentTabGrpId:{type:String,default:""},parentTabId:{type:String,default:""},title:{type:String,default:""},subTitle:{type:String,default:""},linkTitle:{type:String,default:""},linkUrl:{type:String,default:""},prodList:{type:Array,default:[]}},data:function(){return{userNm:"",nProdList:[],ckList:[],list:[],showGeneralProduct:!1,showRecommendProduct:!1,ptnCd:"",siteCd:"",isCobrand:!1,keyword:"",keywordCateg:"",synonymsKeyword:"",forceSearch:"N",isEnglish:!1,isWrongWord:!1,totalCount:0,productList:[],packageCount:0,packageList:[],hotelCount:0,hotelList:[],localTourCount:0,localTourList:[],item:[]}},computed:{isView:function(){return"true"==this.$route.query.editable&&null==this.$route.query.offEditorHelper||(0==this.hasParent||this.$store.getters["tab/getTabId"](this.parentTabGrpId)===this.parentTabId)}},created:function(){this.isCobrand=l.a.isCobrand(),this.siteCd=l.a.getBizCom().memcSiteCd,this.ptnCd=l.a.isCobrand()?l.a.getCobrandInfo().ptnCd:""},mounted:function(){"/"==location.pathname||"/mma/smn/EX00000002"==location.pathname?(this.userNm="고객",c.a.isNvl(this.$fx.user)||c.a.isNvl(this.$fx.user.name)||(this.userNm=this.$fx.user.name),this.showGeneralProduct=!1,this.showRecommendProduct=!0,this.getCrmProductList()):(this.userNm="고객",c.a.isNvl(this.$fx.user)||c.a.isNvl(this.$fx.user.name)?(this.showGeneralProduct=!1,this.showRecommendProduct=!0,this.ckList=this.$fx.getCookie("CHPC0ITS0002M200"),this.getSearchTotalList(this.ckList[this.ckList.length-1])):(this.userNm=this.$fx.user.name,this.getLatestList()))},methods:{getLatestList:function(){var e="";if(this.$fx.user&&(e=this.$fx.user.id),e){var r=this.$fx.getCookie("CHPC0ITS0001S100")||[];r.length>0?(this.showGeneralProduct=!1,this.showRecommendProduct=!0,this.getSearchTotalList(r[r.length-1])):(this.showGeneralProduct=!0,this.showRecommendProduct=!1,this.nProdList=t.filter(this.prodList,{showYn:!0}))}},goDetail:function(t,e,r){if(""!=t){try{if(this.item.length>0){var o={};o.rcmnProdSeq=this.item[r].rcmnProdSeq,o.resAttrCd=this.item[r].resAttrCd,o.rcmnProdCd=this.item[r].rcmnProdCd,o.rcmnProdNm=this.item[r].rcmnProdNm,o.rcmnProdMinzNm=this.item[r].rcmnProdMinzNm,o.prodBrndNm=this.item[r].prodBrndNm,o.ldgTypeNm=this.item[r].ldgTypeNm,o.airlCd=this.item[r].airlCd,o.airlNm=this.item[r].airlNm,o.depAptCd=this.item[r].depAptCd,o.depAptNm=this.item[r].depAptNm,o.arrAptCd=this.item[r].arrAptCd,o.arrAptNm=this.item[r].arrAptNm,o.airSeatGradCd=this.item[r].airSeatGradCd,o.airSeatGradNm=this.item[r].airSeatGradNm,"1"===this.item[r].domeOvrsDvCd?o.domeOvrsDvCd="국내":"2"===this.item[r].domeOvrsDvCd&&(o.domeOvrsDvCd="국외"),o.rprsProdCntntUrlAdrs=this.item[r].prodCntntUrlAdrs,o.clickIdx=r+1,o.price=this.item[r].price,d.a.setEvent("main_rcmn",o)}}catch(t){console.log("serCrm e ::",t)}this.$fx.go(t)}},txtSplit:function(t,e){return n.a.txtSplit(t,e)},getTag:function(t){for(var e=t.split("||"),r="",i=0;i<e.length;i++){var o=e[i];r=r+"<span class='hash'>"+this.txtSplit(o,40)+"</span>"}return r},getCrmProductList:function(){var e=this,data=null,r={custRoflId:"",custNum:"",resAttrCd:"",domeOvrsDvCd:"",lmttCnt:12};this.$fx.user&&(r.custNum=this.$fx.user.id),r.custRoflId=this.$fx.getCookie("bSessionId"),console.log("[CRM]request params : ",r),this.$fx.ajax("/svc/comCrmApiCategory/getListSrcWrdRcmnProdServiceApi",r,{method:"POST",withCredentials:!1}).then((function(r){if(e.loadedPage=!1,"200"==r.data.result){if(console.log("[CRM]getCrmProductList success !!"),r.data.hasOwnProperty("getListSrcWrdRcmnProdServiceConfig")){if(data=r.data.getListSrcWrdRcmnProdServiceConfig,console.log("[CRM]res.data : ",data),t.isEmpty(data.srwrRcmnResponse.rcmnProdList))return e.showGeneralProduct=!0,e.showRecommendProduct=!1,void(e.nProdList=t.filter(e.prodList,{showYn:!0}));for(var i=0;i<data.srwrRcmnResponse.rcmnProdList.length;i++)if(e.list.length<6){e.item.push(data.srwrRcmnResponse.rcmnProdList[i]);var o=data.srwrRcmnResponse.rcmnProdList[i];console.log("[CRM] item:",o);var n="";if("P"==o.resAttrCd)n=e.goPackageSchedulePage(o.rcmnProdCd)+e.getUtmParam();else if("H"==o.resAttrCd)n=e.goHotelDetailPage(o.rcmnProdCd,o.domeOvrsDvCd)+e.getUtmParam();else if("A"==o.resAttrCd){var p={itnrLst:[{depPlcDvCd:"A",depPlcCd:"",depPlcNm:"",arrPlcDvCd:"A",arrPlcCd:"",arrPlcNm:"",depDt:""},{depPlcDvCd:"A",depPlcCd:"",depPlcNm:"",arrPlcDvCd:"A",arrPlcCd:"",arrPlcNm:"",depDt:""}],psngrCntLst:[{ageDvCd:"A",psngrCnt:1}],nonStopOnly:"N",seatGradCd:"Y",itnrTypeCd:"RT"};null!=o.airlCd&&"K1"!=o.airlCd&&(p.mktAlCd=o.airlCd,p.mktAlNm=o.airlNm),p.itnrLst[0].depPlcCd=o.depAptCd,p.itnrLst[0].depPlcNm=o.depAptNm,p.itnrLst[0].arrPlcCd=o.arrAptCd,p.itnrLst[0].arrPlcNm=o.arrAptNm,p.itnrLst[1].depPlcCd=o.arrAptCd,p.itnrLst[1].depPlcNm=o.arrAptNm,p.itnrLst[1].arrPlcCd=o.depAptCd,p.itnrLst[1].arrPlcNm=o.depAptNm,0!=o.price?(p.itnrLst[0].depDt=o.depDt,p.itnrLst[1].depDt=o.arrDt):(p.itnrLst[0].depDt=l.a.addToDate(l.a.getToday(),"M",1),p.itnrLst[1].depDt=l.a.addToDate(p.itnrLst[0].depDt,"D",3)),n="/trp/air/CHPC0AIR0200M200?searchCond="+encodeURIComponent(JSON.stringify(p))+e.getUtmParam()}e.list.push({befTitle:"P"==o.resAttrCd?o.prodBrndNm:"H"==o.resAttrCd?o.ldgTypeNm:"A"==o.resAttrCd?o.airlNm:"F"==o.resAttrCd?"투어/입장권":o.resAttrCd,korName:o.rcmnProdNm,imgUrl:o.prodCntntUrlAdrs,price:o.price,detailUrl:n})}e.productList=e.list}}else console.log("[CRM]getCrmProductList fail !!");e.loadedPage=!0})).catch((function(t){console.log("crm api call error",t),e.showGeneralProduct=!0,e.showRecommendProduct=!1}))},getSearchTotalList:function(e){var r=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var data,n,c,l;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:data=null,n="",r.$fx.user&&(n=r.$fx.user.id),c="N",r.isCobrand&&(c="Y"),l={keyword:e,keywordCateg:"DS",userMode:"PC",forceSearch:r.forceSearch,loginId:n,orderByMethod:"D",startPosition:1,returnCount:4,isCobrand:c,agtCode:r.ptnCd,nTime:Date.now()},r.$fx.ajax("/svc/comItsApiCategory/getTotalSearchApi",l,{method:"POST",withCredentials:!1}).then((function(e){if(r.loadedPage=!1,"200"==e.data.result&&e.data.hasOwnProperty("getTotalSearchConfig")){data=e.data.getTotalSearchConfig,r.synonymsKeyword=data.synonymsKeyword,r.keyword=data.keyword,r.keyword!=r.synonymsKeyword?r.isWrongWord=!0:r.isWrongWord=!1;if(/[a-zA-Z]/.test(r.keyword)?r.isEnglish=!0:r.isEnglish=!1,r.packageList=data.packageList,r.hotelList=data.hotelList,r.localTourList=data.localTourList,!(0!=r.packageList.length&&r.packageList.length>1))return r.showGeneralProduct=!0,r.showRecommendProduct=!1,void(r.nProdList=t.filter(r.prodList,{showYn:!0}));if(0!=r.hotelList.length&&r.hotelList.length>=1)1===r.hotelList.length?(r.packageCount=3,r.hotelCount=1,r.localTourCount=0):(r.packageCount=2,0!=r.localTourList.length&&r.localTourList.length>=1?(r.hotelCount=1,r.localTourCount=1):(r.hotelCount=2,r.localTourCount=0));else{if(!(r.packageList.length>=4))return r.showGeneralProduct=!0,r.showRecommendProduct=!1,void(r.nProdList=t.filter(r.prodList,{showYn:!0}));r.packageCount=4,r.hotelCount=0,r.localTourCount=0}console.log("jongwanjaylee 패키지 개수",r.packageCount),console.log("jongwanjaylee 호텔 개수",r.hotelCount),console.log("jongwanjaylee FND 개수",r.localTourCount);for(var i=0;i<r.packageCount;i++)r.list.push({befTitle:"패키지",cityName:"",engName:"",korName:r.packageList[i].title,imgUrl:r.packageList[i].imgUrl,price:r.packageList[i].lwstPrice,detailUrl:r.goPackageDetailPage(r.packageList[i].strtDepDay,r.packageList[i].endDepDay,r.packageList[i].rprsProdCd,r.packageList[i].depCity)+r.getUtmParam(),title:"",contents:"",tag:"",areaNavi:"",hotelCode:""});for(var o=0;o<r.hotelCount;o++)r.list.push({befTitle:"호텔",cityName:r.hotelList[o].cityNm,korName:r.hotelList[o].hotelNameKo,imgUrl:r.hotelList[o].imgUrl,price:r.hotelList[o].price,detailUrl:r.goHotelDetailPage(r.hotelList[o].hotelCode)+r.getUtmParam()});for(var n=0;n<r.localTourCount;n++)r.list.push({befTitle:"교통패스/입장권",korName:r.localTourList[n].localTourTitle,imgUrl:r.localTourList[n].imgUrl,price:r.localTourList[n].discountPrice,detailUrl:r.localTourList[n].detailUrl.indexOf("?")>-1?r.localTourList[n].detailUrl+r.getUtmParam():r.localTourList[n].detailUrl+"?"+r.getUtmParam().substr(1)});r.productList=r.list}r.loadedPage=!0})).catch((function(t){console.log("error",t)}));case 7:case"end":return o.stop()}}),o)})))()},getUtmParam:function(){return"&utm_source=rcmd_crm&utm_medium=thmb_pc&utm_campaign=hnt_main_pc"},goHotelDetailPage:function(t,e){var r="/trp/htl/CHPC0HTL0200M200?hotelCode=".concat(t);return"1"===e&&(r+="&countryCode=KR"),r},goPackageSchedulePage:function(t){return"/trp/pkg/CHPC0PKG0200M200?pkgCd=".concat(t)},goPackageDetailPage:function(t,e,r,o){switch(o){case"부산":return"/trp/pkg/CHPC0PKG0100M200?strtDepDay=".concat(t,"&endDepDay=").concat(e,"&cityCdNm&catgProdAttrCd=P01&rprsProdCds=").concat(r,"&depCityCd=PUS");case"청주":return"/trp/pkg/CHPC0PKG0100M200?strtDepDay=".concat(t,"&endDepDay=").concat(e,"&cityCdNm&catgProdAttrCd=P01&rprsProdCds=").concat(r,"&depCityCd=CJJ");case"무안":return"/trp/pkg/CHPC0PKG0100M200?strtDepDay=".concat(t,"&endDepDay=").concat(e,"&cityCdNm&catgProdAttrCd=P01&rprsProdCds=").concat(r,"&depCityCd=MWX");case"양양":return"/trp/pkg/CHPC0PKG0100M200?strtDepDay=".concat(t,"&endDepDay=").concat(e,"&cityCdNm&catgProdAttrCd=P01&rprsProdCds=").concat(r,"&depCityCd=YNY");case"제주":return"/trp/pkg/CHPC0PKG0100M200?strtDepDay=".concat(t,"&endDepDay=").concat(e,"&cityCdNm&catgProdAttrCd=P01&rprsProdCds=").concat(r,"&depCityCd=CJU");case"대구":return"/trp/pkg/CHPC0PKG0100M200?strtDepDay=".concat(t,"&endDepDay=").concat(e,"&cityCdNm&catgProdAttrCd=P01&rprsProdCds=").concat(r,"&depCityCd=TAE");default:return"/trp/pkg/CHPC0PKG0100M200?strtDepDay=".concat(t,"&endDepDay=").concat(e,"&cityCdNm&catgProdAttrCd=P01&rprsProdCds=").concat(r)}}}}}).call(this,r(0))}}]);